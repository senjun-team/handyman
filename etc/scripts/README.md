# Вспомогательные скрипты
В этой директории лежат вспомогательные скрипты на питоне для автоматизации работы с бд, курсами и тд.

Перед первым запуском любого из скриптов нужно создать виртуальное окружение, активироать его и установить все зависимости:
```bash
cd handyman/etc/scripts
python3 -m venv .venv
source .venv/bin/activate
pip3 install -r requirements.txt
```

Для каждой новой консольной сессии нужно активировать виртуальное окружение:
```bash
source .venv/bin/activate
```

## import_courses.py
Для чего нужен: обходит директорию с курсами. Находит в ней курсы, главы, задачи. Импортирует их в постгрес с автоматическим разрешением конфликтов.
Когда нужно запускать: при первом поднятии инфраструктуры сенджуна на машине; каждый раз при добавлении/удалении/изменении состава курсов, глав, задач.

Пример запуска:
```bash
python3 import_courses.py --courses_dir=/data/courses/ --postgres_conn=postgresql://senjun:some_password@127.0.0.1:5432/senjun
```
